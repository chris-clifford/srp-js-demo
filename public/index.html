<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Basic Page Needs
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">
    <title>SiRP Demo : Secure (interoperable) Remote Password Authentication</title>
    <meta name="description" content="SiRP Demo : Secure (interoperable) Remote Password Authentication">
    <meta name="author" content="Glenn Rempe">

    <!-- Mobile Specific Metas
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- FONT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/skeleton.css">
    <link rel="stylesheet" href="css/app.css">

    <!-- Favicon
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="images/favicon.png">
</head>

<body>
    <!-- Primary Page Layout
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="container">
      <div class="row">
        <div class="twelve column" style="margin-top: 10%">

          <h1>SiRP Demo</h1>
          <p><b>Secure (interoperable) Remote Password Authentication</b></p>

          <h3>About</h3>

          <p>
              This is a demo of the <a href="https://github.com/grempe/sirp">SiRP Ruby Gem</a>,
              and the <a href="https://github.com/alax/jsrp">JSRP Javascript client</a>.
              SiRP is an implementation of the
              <a href="http://srp.stanford.edu/">Secure Remote Password (SRP-6a) protocol</a>.
              The code for this demo can be found on at <a href="https://github.com/grempe/sirp-demo">grempe/sirp-demo</a>
          </p>

          <p>
            SRP allows users to mutually authenticate with a server without ever
            sending a password over the wire. Nearly 100% of websites today
            use the less secure method of sending your password to the remote
            server, hashing it, and then comparing it to a stored hash. SRP instead
            uses cryptographic primitives to authenticate you and securely negotiate
            a cryptographic key that you can use for encrypted session communications.
          </p>

          <p>
              To use this demo, first register a username and password. Once
              registered login using the same credentials to authenticate using SRP.
          </p>

          <h3>User Registration</h3>

          <p>
            In this step a new user is registered by generating a salt and verifier in
            the browser and posting those attributes to the <code>/users</code> endoint on the server.
          </p>

          <form id='register'>
            <div class="row">
              <div class="six columns">
                <label for="regUsername">username</label>
                <input id='regUsername' class='u-full-width' type='text' name='username' autofocus><br>
              </div>

              <div class="six columns">
                <label for="regPassword">password</label>
                <input id='regPassword' class='u-full-width' type='password' name='password'>
              </div>
            </div>
            <div class="row">
              <h4 id='regMessage' class='nine columns green'></h4>
              <input id='regButton' class='three columns button-primary u-pull-right' type='button' value='Register'>
            </div>
          </form>

          <pre id='statusP0'></pre>

          <h3>User Login</h3>

          <p>
            In this step an existing user is requests an SRP protocol login. The first
            step is to retrieve the user's 'salt' and the server's 'B' values from
            the server and use those to bootstrap the rest of the authentication
            process.
          </p>

          <form id='login'>
            <div class="row">
              <div class="six columns">
                <label for="loginUsername">username</label>
                <input id='loginUsername' class='u-full-width' type='text' name='username' autofocus><br>
              </div>

              <div class="six columns">
                <label for="loginPassword">password</label>
                <input id='loginPassword' class='u-full-width' type='password' name='password'>
              </div>
            </div>
            <div class="row">
              <h4 id='loginMessage' class='nine columns green'></h4>
              <input id='loginButton' class='three columns button-primary u-pull-right' type='button' value='Login'>
            </div>
          </form>

          <p>Enter something you wish you hadn't? <a href="/flush">flush</a> the database of all credentials!</p>

          <pre id='statusP1'></pre>
          <br/>

          <pre id='statusP2'></pre>
          <br/>

        </div>
      </div>
    </div>

    <!-- End Document
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->

    <script type="text/javascript" src="node_modules/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="node_modules/fast-sha256/sha256.min.js"></script>
    <script type="text/javascript" src="node_modules/scrypt-async/scrypt-async.min.js"></script>
    <script type="text/javascript" src="node_modules/jsrp/jsrp-browser.js"></script>
    <script type="text/javascript" src="app.js"></script>
</body>

</html>
